<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>nltk.parse.shiftreduce.ShiftReduceParser</title>
    <meta name="generator" content="pydoctor 21.2.2"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            <a href="https://github.com/tristanlatr/nltk" class="projecthome">Natural Language Toolkit</a> <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="nltk.html">nltk</a></code><wbr></wbr>.<code><a href="nltk.parse.html">parse</a></code><wbr></wbr>.<code><a href="nltk.parse.shiftreduce.html">shiftreduce</a></code><wbr></wbr>.<code><a href="nltk.parse.shiftreduce.ShiftReduceParser.html">ShiftReduceParser</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">ShiftReduceParser</span>(<a href="nltk.parse.api.ParserI.html" title="nltk.parse.api.ParserI">ParserI</a>): <a href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L17" class="sourceLink">(source)</a></code></p><p>Known subclasses: <code><a href="nltk.parse.shiftreduce.SteppingShiftReduceParser.html">nltk.parse.shiftreduce.SteppingShiftReduceParser</a></code></p>
        <p><a href="classIndex.html#nltk.parse.shiftreduce.ShiftReduceParser">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p class="pre">A simple bottom-up CFG parser that uses two operations, "shift"
and "reduce", to find a single parse for a text.

``ShiftReduceParser`` maintains a stack, which records the
structure of a portion of the text.  This stack is a list of
strings and Trees that collectively cover a portion of
the text.  For example, while parsing the sentence "the dog saw
the man" with a typical grammar, ``ShiftReduceParser`` will produce
the following stack, which covers "the dog saw"::

   [(NP: (Det: 'the') (N: 'dog')), (V: 'saw')]

``ShiftReduceParser`` attempts to extend the stack to cover the
entire text, and to combine the stack elements into a single tree,
producing a complete parse for the sentence.

Initially, the stack is empty.  It is extended to cover the text,
from left to right, by repeatedly applying two operations:

  - "shift" moves a token from the beginning of the text to the
    end of the stack.
  - "reduce" uses a CFG production to combine the rightmost stack
    elements into a single Tree.

Often, more than one operation can be performed on a given stack.
In this case, ``ShiftReduceParser`` uses the following heuristics
to decide which operation to perform:

  - Only shift if no reductions are available.
  - If multiple reductions are available, then apply the reduction
    whose CFG production is listed earliest in the grammar.

Note that these heuristics are not guaranteed to choose an
operation that leads to a parse of the text.  Also, if multiple
parses exists, ``ShiftReduceParser`` will return at most one of
them.

:see: ``nltk.grammar``</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1103">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__">__init__</a></code></td>
    <td><span>Create a new ``ShiftReduceParser``, that uses ``grammar`` to parse texts.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#grammar">grammar</a></code></td>
    <td><span>:return: The grammar used by this parser.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#parse">parse</a></code></td>
    <td><span>:return: An iterator that generates parse trees for the sentence. When possible this list is sorted from most likely to least likely.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#trace">trace</a></code></td>
    <td><span>Set the level of tracing output that should be generated when parsing a text.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_check_grammar">_check_grammar</a></code></td>
    <td><span>Check to make sure that all of the CFG productions are potentially useful.  If any productions can never be used, then print a warning.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_match_rhs">_match_rhs</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_reduce">_reduce</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_shift">_shift</a></code></td>
    <td><span>Move a token from the beginning of ``remaining_text`` to the end of ``stack``.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_trace_reduce">_trace_reduce</a></code></td>
    <td><span>Print trace output displaying that ``production`` was used to reduce ``stack``.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_trace_shift">_trace_shift</a></code></td>
    <td><span>Print trace output displaying that a token has been shifted.</span></td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_trace_stack">_trace_stack</a></code></td>
    <td><span>Print trace output displaying the given stack and text.</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_grammar">_grammar</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_trace">_trace</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        
          <p class="inheritedFrom">
            Inherited from <code><a href="nltk.parse.api.ParserI.html">ParserI</a></code>:
          </p>
          <table class="children sortable" id="id1104">
  
  
  <tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="nltk.parse.api.ParserI.html#parse_all">parse_all</a></code></td>
    <td><span>:rtype: list(Tree)</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="nltk.parse.api.ParserI.html#parse_one">parse_one</a></code></td>
    <td><span>:rtype: Tree or None</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="nltk.parse.api.ParserI.html#parse_sents">parse_sents</a></code></td>
    <td><span>Apply ``self.parse()`` to each element of ``sents``. :rtype: iter(iter(Tree))</span></td>
  </tr>
</table>
          

          
      </div>

      <div id="childList">

        <div class="basemethod">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, grammar, trace=0):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L59">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overridden in <code><a href="nltk.parse.shiftreduce.SteppingShiftReduceParser.html">nltk.parse.shiftreduce.SteppingShiftReduceParser</a></code></div>
    
    <div><p class="pre">Create a new ``ShiftReduceParser``, that uses ``grammar`` to
parse texts.

:type grammar: Grammar
:param grammar: The grammar used to parse texts.
:type trace: int
:param trace: The level of tracing that should be used when
    parsing a text.  ``0`` will generate no tracing output;
    and higher numbers will produce more verbose tracing
    output.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser.grammar">
    
  </a>
  <a name="grammar">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">grammar</span>(self):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L76">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overrides <code><a href="nltk.parse.api.ParserI.html#grammar">nltk.parse.api.ParserI.grammar</a></code></div>
    
    <div><p class="pre">:return: The grammar used by this parser.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser.parse">
    
  </a>
  <a name="parse">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">parse</span>(self, tokens):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L79">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overrides <code><a href="nltk.parse.api.ParserI.html#parse">nltk.parse.api.ParserI.parse</a></code></div><div class="interfaceinfo">overridden in <code><a href="nltk.parse.shiftreduce.SteppingShiftReduceParser.html">nltk.parse.shiftreduce.SteppingShiftReduceParser</a></code></div>
    
    <div><p class="pre">:return: An iterator that generates parse trees for the sentence.
When possible this list is sorted from most likely to least likely.

:param sent: The sentence to be parsed
:type sent: list(str)
:rtype: iter(Tree)</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser.trace">
    
  </a>
  <a name="trace">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">trace</span>(self, trace=2):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L201">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Set the level of tracing output that should be generated when
parsing a text.

:type trace: int
:param trace: The trace level.  A trace level of ``0`` will
    generate no tracing output; and higher trace levels will
    produce more verbose tracing output.
:rtype: None</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser._check_grammar">
    
  </a>
  <a name="_check_grammar">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_check_grammar</span>(self):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L263">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Check to make sure that all of the CFG productions are
potentially useful.  If any productions can never be used,
then print a warning.

:rtype: None</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser._match_rhs">
    
  </a>
  <a name="_match_rhs">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_match_rhs</span>(self, rhs, rightmost_stack):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L123">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">:rtype: bool
:return: true if the right hand side of a CFG production
    matches the rightmost elements of the stack.  ``rhs``
    matches ``rightmost_stack`` if they are the same length,
    and each element of ``rhs`` matches the corresponding
    element of ``rightmost_stack``.  A nonterminal element of
    ``rhs`` matches any Tree whose node value is equal
    to the nonterminal's symbol.  A terminal element of ``rhs``
    matches any string whose type is equal to the terminal.
:type rhs: list(terminal and Nonterminal)
:param rhs: The right hand side of a CFG production.
:type rightmost_stack: list(string and Tree)
:param rightmost_stack: The rightmost elements of the parser's
    stack.</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser._reduce">
    
  </a>
  <a name="_reduce">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_reduce</span>(self, stack, remaining_text, production=None):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L156">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Find a CFG production whose right hand side matches the
rightmost stack elements; and combine those stack elements
into a single Tree, with the node specified by the
production's left-hand side.  If more than one CFG production
matches the stack, then use the production that is listed
earliest in the grammar.  The new Tree replaces the
elements in the stack.

:rtype: Production or None
:return: If a reduction is performed, then return the CFG
    production that the reduction is based on; otherwise,
    return false.
:type stack: list(string and Tree)
:param stack: A list of strings and Trees, encoding
    the structure of the text that has been parsed so far.
:type remaining_text: list(str)
:param remaining_text: The portion of the text that is not yet
    covered by ``stack``.</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser._shift">
    
  </a>
  <a name="_shift">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_shift</span>(self, stack, remaining_text):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L105">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Move a token from the beginning of ``remaining_text`` to the
end of ``stack``.

:type stack: list(str and Tree)
:param stack: A list of strings and Trees, encoding
    the structure of the text that has been parsed so far.
:type remaining_text: list(str)
:param remaining_text: The portion of the text that is not yet
    covered by ``stack``.
:rtype: None</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser._trace_reduce">
    
  </a>
  <a name="_trace_reduce">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_trace_reduce</span>(self, stack, production, remaining_text):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L248">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Print trace output displaying that ``production`` was used to
reduce ``stack``.

:rtype: None</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser._trace_shift">
    
  </a>
  <a name="_trace_shift">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_trace_shift</span>(self, stack, remaining_text):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L235">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Print trace output displaying that a token has been shifted.

:rtype: None</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser._trace_stack">
    
  </a>
  <a name="_trace_stack">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_trace_stack</span>(self, stack, remaining_text, marker=' '):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L217">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Print trace output displaying the given stack and text.

:rtype: None
:param marker: A character that is printed to the left of the
    stack.  This is used with trace level 2 to print 'S'
    before shifted stacks and 'R' before reduced stacks.</p></div>
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser._grammar">
    
  </a>
  <a name="_grammar">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_grammar</span> =
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L72">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    <div class="interfaceinfo">overridden in <code><a href="nltk.parse.shiftreduce.SteppingShiftReduceParser.html">nltk.parse.shiftreduce.SteppingShiftReduceParser</a></code></div>
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="nltk.parse.shiftreduce.ShiftReduceParser._trace">
    
  </a>
  <a name="_trace">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_trace</span> =
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/shiftreduce.py#L73">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://github.com/tristanlatr/nltk" class="projecthome">Natural Language Toolkit</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.2.2 at 2021-06-22 02:51:08.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>