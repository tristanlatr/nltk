<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>nltk.corpus.reader.util.PickleCorpusView</title>
    <meta name="generator" content="pydoctor 21.2.2"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            <a href="https://github.com/tristanlatr/nltk" class="projecthome">Natural Language Toolkit</a> <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="class"><code><code><a href="nltk.html">nltk</a></code><wbr></wbr>.<code><a href="nltk.corpus.html">corpus</a></code><wbr></wbr>.<code><a href="nltk.corpus.reader.html">reader</a></code><wbr></wbr>.<code><a href="nltk.corpus.reader.util.html">util</a></code><wbr></wbr>.<code><a href="nltk.corpus.reader.util.PickleCorpusView.html">PickleCorpusView</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        class documentation
      </div>

      <div class="extrasDocstring">
        <p><code><span class="py-keyword">class</span> <span class="py-defname">PickleCorpusView</span>(<a href="nltk.corpus.reader.util.StreamBackedCorpusView.html" title="nltk.corpus.reader.util.StreamBackedCorpusView">StreamBackedCorpusView</a>): <a href="https://github.com/tristanlatr/nltk/tree/03a34b1932460e632ce9048adc0ccabbc7c0558c/nltk/corpus/reader/util.py#L482" class="sourceLink">(source)</a></code></p>
        <p><a href="classIndex.html#nltk.corpus.reader.util.PickleCorpusView">View In Hierarchy</a></p>
      </div>

      <div class="moduleDocstring">
        <div><p>A stream backed corpus view for corpus files that consist of
sequences of serialized Python objects (serialized using
<tt class="rst-docutils literal">pickle.dump</tt>).  One use case for this class is to store the
result of running feature detection on a corpus to disk.  This can
be useful when performing feature detection is expensive (so we
don't want to repeat it); but the corpus is too large to store in
memory.  The following example illustrates this technique:</p>
<blockquote>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">from</span> nltk.corpus.reader.util <span class="py-keyword">import</span> PickleCorpusView
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">from</span> nltk.util <span class="py-keyword">import</span> LazyMap
<span class="py-prompt">&gt;&gt;&gt; </span>feature_corpus = LazyMap(detect_features, corpus) <span class="py-comment"># doctest: +SKIP</span>
<span class="py-prompt">&gt;&gt;&gt; </span>PickleCorpusView.write(feature_corpus, some_fileid)  <span class="py-comment"># doctest: +SKIP</span>
<span class="py-prompt">&gt;&gt;&gt; </span>pcv = PickleCorpusView(some_fileid) <span class="py-comment"># doctest: +SKIP</span></pre></blockquote>
</div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id496">
  
  
  <tr class="classmethod">
    
    <td>Class Method</td>
    <td><code><a href="#cache_to_tempfile">cache_to_tempfile</a></code></td>
    <td><span>Write the given sequence to a temporary file as a pickle corpus; and then return a <tt class="rst-docutils literal">PickleCorpusView</tt> view for that temporary corpus file.</span></td>
  </tr><tr class="classmethod">
    
    <td>Class Method</td>
    <td><code><a href="#write">write</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__del__">__del__</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__">__init__</a></code></td>
    <td><span>Create a new corpus view that reads the pickle corpus <tt class="rst-docutils literal">fileid</tt>.</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#read_block">read_block</a></code></td>
    <td><span>Read a block from the input stream.</span></td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#BLOCK_SIZE">BLOCK_SIZE</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#PROTOCOL">PROTOCOL</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="instancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="#_delete_on_gc">_delete_on_gc</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        
          <p class="inheritedFrom">
            Inherited from <code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html">StreamBackedCorpusView</a></code>:
          </p>
          <table class="children sortable" id="id497">
  
  
  <tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#__add__">__add__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#__getitem__">__getitem__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#__len__">__len__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#__mul__">__mul__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#__radd__">__radd__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#__rmul__">__rmul__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#close">close</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="basemethod">
    
    <td>Method</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#iterate_from">iterate_from</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="baseclassvariable">
    
    <td>Class Variable</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#fileid">fileid</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="basemethod private">
    
    <td>Method</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#_open">_open</a></code></td>
    <td><span>Open the file stream associated with this corpus view.  This will be called performed if any value is read from the view while its file stream is closed.</span></td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#_block_reader">_block_reader</a></code></td>
    <td><span>The function used to read
a single block from the underlying file stream.</span></td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#_cache">_cache</a></code></td>
    <td><span>A cache of the most recently read block.  It
is encoded as a tuple (start_toknum, end_toknum, tokens), where
start_toknum is the token index of the first token in the block;
end_toknum is the token index of the first token not in the
block; and tokens is a list of the tokens in the block.</span></td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#_current_blocknum">_current_blocknum</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#_current_toknum">_current_toknum</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#_encoding">_encoding</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#_eofpos">_eofpos</a></code></td>
    <td><span>The character position of the last character in the
file.  This is calculated when the corpus view is initialized,
and is used to decide when the end of file has been reached.</span></td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#_fileid">_fileid</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#_filepos">_filepos</a></code></td>
    <td><span>A list containing the file position of each block
that has been processed.  In particular, <tt class="rst-docutils literal">_toknum[i]</tt> is the
file position of the first character in block <tt class="rst-docutils literal">i</tt>.  Together
with <tt class="rst-docutils literal">_toknum</tt>, this forms a partial mapping between token
indices and file positions.</span></td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#_len">_len</a></code></td>
    <td><span>The total number of tokens in the corpus, if known;
or None, if the number of tokens is not yet known.</span></td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#_stream">_stream</a></code></td>
    <td><span>The stream used to access the underlying corpus file.</span></td>
  </tr><tr class="baseinstancevariable private">
    
    <td>Instance Variable</td>
    <td><code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#_toknum">_toknum</a></code></td>
    <td><span>A list containing the token index of each block
that has been processed.  In particular, <tt class="rst-docutils literal">_toknum[i]</tt> is the
token index of the first token in block <tt class="rst-docutils literal">i</tt>.  Together
with <tt class="rst-docutils literal">_filepos</tt>, this forms a partial mapping between token
indices and file positions.</span></td>
  </tr>
</table>
          

          
      </div>

      <div id="childList">

        <div class="baseclassmethod">
  
  
  <a name="nltk.corpus.reader.util.PickleCorpusView.cache_to_tempfile">
    
  </a>
  <a name="cache_to_tempfile">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    <span class="py-keyword">def</span> <span class="py-defname">cache_to_tempfile</span>(cls, sequence, delete_on_gc=True):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/03a34b1932460e632ce9048adc0ccabbc7c0558c/nltk/corpus/reader/util.py#L544">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>Write the given sequence to a temporary file as a pickle
corpus; and then return a <tt class="rst-docutils literal">PickleCorpusView</tt> view for that
temporary corpus file.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">sequence</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">delete_on_gc</span></td><td class="fieldArgDesc">If true, then the temporary file will be
deleted whenever this object gets garbage-collected.</td></tr></table></div>
  </div>
</div><div class="baseclassmethod">
  
  
  <a name="nltk.corpus.reader.util.PickleCorpusView.write">
    
  </a>
  <a name="write">
    
  </a>
  <div class="functionHeader">
    @classmethod<br />
    <span class="py-keyword">def</span> <span class="py-defname">write</span>(cls, sequence, output_file):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/03a34b1932460e632ce9048adc0ccabbc7c0558c/nltk/corpus/reader/util.py#L537">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="nltk.corpus.reader.util.PickleCorpusView.__del__">
    
  </a>
  <a name="__del__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__del__</span>(self):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/03a34b1932460e632ce9048adc0ccabbc7c0558c/nltk/corpus/reader/util.py#L522">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div>If <tt class="rst-docutils literal">delete_on_gc</tt> was set to true when this
<tt class="rst-docutils literal">PickleCorpusView</tt> was created, then delete the corpus view's
fileid.  (This method is called whenever a
<tt class="rst-docutils literal">PickledCorpusView</tt> is garbage-collected.</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="nltk.corpus.reader.util.PickleCorpusView.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span>(self, fileid, delete_on_gc=False):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/03a34b1932460e632ce9048adc0ccabbc7c0558c/nltk/corpus/reader/util.py#L502">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overrides <code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#__init__">nltk.corpus.reader.util.StreamBackedCorpusView.__init__</a></code></div>
    
    <div>Create a new corpus view that reads the pickle corpus
<tt class="rst-docutils literal">fileid</tt>.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">fileid</span></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">delete_on_gc</span></td><td class="fieldArgDesc">If true, then <tt class="rst-docutils literal">fileid</tt> will be deleted
whenever this object gets garbage-collected.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="nltk.corpus.reader.util.PickleCorpusView.read_block">
    
  </a>
  <a name="read_block">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">read_block</span>(self, stream):
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/03a34b1932460e632ce9048adc0ccabbc7c0558c/nltk/corpus/reader/util.py#L513">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overrides <code><a href="nltk.corpus.reader.util.StreamBackedCorpusView.html#read_block">nltk.corpus.reader.util.StreamBackedCorpusView.read_block</a></code></div>
    
    <div>Read a block from the input stream.<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">stream:</span>stream</td><td class="fieldArgDesc">an input stream</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer">list(any)</td><td class="fieldArgDesc">a block of tokens from the input stream</td></tr></table></div>
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="nltk.corpus.reader.util.PickleCorpusView.BLOCK_SIZE">
    
  </a>
  <a name="BLOCK_SIZE">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">BLOCK_SIZE</span>: <code><a href="https://docs.python.org/3/library/functions.html#int">int</a></code> =
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/03a34b1932460e632ce9048adc0ccabbc7c0558c/nltk/corpus/reader/util.py#L499">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="nltk.corpus.reader.util.PickleCorpusView.PROTOCOL">
    
  </a>
  <a name="PROTOCOL">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">PROTOCOL</span>: <code><a href="https://docs.python.org/3/library/functions.html#int">int</a></code> =
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/03a34b1932460e632ce9048adc0ccabbc7c0558c/nltk/corpus/reader/util.py#L500">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="baseinstancevariable private">
  
  
  <a name="nltk.corpus.reader.util.PickleCorpusView._delete_on_gc">
    
  </a>
  <a name="_delete_on_gc">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_delete_on_gc</span> =
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/03a34b1932460e632ce9048adc0ccabbc7c0558c/nltk/corpus/reader/util.py#L510">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://github.com/tristanlatr/nltk" class="projecthome">Natural Language Toolkit</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.2.2 at 2021-06-22 02:56:13.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>