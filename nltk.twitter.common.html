<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>nltk.twitter.common : API documentation</title>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
  </head>
  <body>

    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header navbar-brand">
          <a href="https://github.com/tristanlatr/nltk">Natural Language Toolkit</a>
          <a href="index.html">API Documentation</a>
        </div>
      </div>
    </nav>

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="nltk.html">nltk</a></code>.<code><a href="nltk.twitter.html">twitter</a></code>.<code><a href="nltk.twitter.common.html">common</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p class="pre">Utility functions for the :module:`twitterclient` module which do not require
the `twython` library to have been installed.</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1941">
  
  <tr class="variable">
    
    <td>Variable</td>
    <td><code><a href="#HIER_SEPARATOR">HIER_SEPARATOR</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#extract_fields">extract_fields</a></code></td>
    <td><span>Extract field values from a full tweet and return them as a list</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#json2csv">json2csv</a></code></td>
    <td><span>Extract selected fields from a file of line-separated JSON tweets and write to a file in CSV format.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#outf_writer_compat">outf_writer_compat</a></code></td>
    <td><span>Get a CSV writer with optional compression.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#json2csv_entities">json2csv_entities</a></code></td>
    <td><span>Extract selected fields from a file of line-separated JSON tweets and write to a file in CSV format.</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_header_field_list">get_header_field_list</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_add_field_to_out">_add_field_to_out</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_is_composed_key">_is_composed_key</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_get_key_value_composed">_get_key_value_composed</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_get_entity_recursive">_get_entity_recursive</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_outf_writer">_outf_writer</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function private">
    
    <td>Function</td>
    <td><code><a href="#_write_to_file">_write_to_file</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basevariable">
  
  <a name="nltk.twitter.common.HIER_SEPARATOR">
    
  </a>
  <a name="HIER_SEPARATOR">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">HIER_SEPARATOR</span> =
    <a class="functionSourceLink" href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py#L20">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div> (type: <code><a href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>)
  </div>
</div><div class="basefunction">
  
  <a name="nltk.twitter.common.extract_fields">
    
  </a>
  <a name="extract_fields">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">extract_fields</span>(tweet, fields):
    <a class="functionSourceLink" href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py#L23">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Extract field values from a full tweet and return them as a list

:param json tweet: The tweet in JSON format
:param list fields: The fields to be extracted from the tweet
:rtype: list(str)</p></div>
  </div>
</div><div class="basefunction private">
  
  <a name="nltk.twitter.common._add_field_to_out">
    
  </a>
  <a name="_add_field_to_out">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_add_field_to_out</span>(json, field, out):
    <a class="functionSourceLink" href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py#L42">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction private">
  
  <a name="nltk.twitter.common._is_composed_key">
    
  </a>
  <a name="_is_composed_key">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_is_composed_key</span>(field):
    <a class="functionSourceLink" href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py#L50">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction private">
  
  <a name="nltk.twitter.common._get_key_value_composed">
    
  </a>
  <a name="_get_key_value_composed">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_get_key_value_composed</span>(field):
    <a class="functionSourceLink" href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py#L56">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction private">
  
  <a name="nltk.twitter.common._get_entity_recursive">
    
  </a>
  <a name="_get_entity_recursive">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_get_entity_recursive</span>(json, entity):
    <a class="functionSourceLink" href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py#L64">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="nltk.twitter.common.json2csv">
    
  </a>
  <a name="json2csv">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">json2csv</span>(fp, outfile, fields, encoding='utf8', errors='replace', gzip_compress=False):
    <a class="functionSourceLink" href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py#L90">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Extract selected fields from a file of line-separated JSON tweets and
write to a file in CSV format.

This utility function allows a file of full tweets to be easily converted
to a CSV file for easier processing. For example, just TweetIDs or
just the text content of the Tweets can be extracted.

Additionally, the function allows combinations of fields of other Twitter
objects (mainly the users, see below).

For Twitter entities (e.g. hashtags of a Tweet), and for geolocation, see
`json2csv_entities`

:param str infile: The name of the file containing full tweets

:param str outfile: The name of the text file where results should be    written

:param list fields: The list of fields to be extracted. Useful examples    are 'id_str' for the tweetID and 'text' for the text of the tweet. See    &lt;https://dev.twitter.com/overview/api/tweets&gt; for a full list of fields.    e. g.: ['id_str'], ['id', 'text', 'favorite_count', 'retweet_count']    Additionally, it allows IDs from other Twitter objects, e. g.,    ['id', 'text', 'user.id', 'user.followers_count', 'user.friends_count']

:param error: Behaviour for encoding errors, see    https://docs.python.org/3/library/codecs.html#codec-base-classes

:param gzip_compress: if `True`, output files are compressed with gzip</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="nltk.twitter.common.outf_writer_compat">
    
  </a>
  <a name="outf_writer_compat">
    
  </a>
  <div class="functionHeader">
    @deprecated('Use open() and csv.writer() directly instead.')<br />
    <span class="py-keyword">def</span> <span class="py-defname">outf_writer_compat</span>(outfile, encoding, errors, gzip_compress=False):
    <a class="functionSourceLink" href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py#L135">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Get a CSV writer with optional compression.</p></div>
  </div>
</div><div class="basefunction private">
  
  <a name="nltk.twitter.common._outf_writer">
    
  </a>
  <a name="_outf_writer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_outf_writer</span>(outfile, encoding, errors, gzip_compress=False):
    <a class="functionSourceLink" href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py#L141">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="nltk.twitter.common.json2csv_entities">
    
  </a>
  <a name="json2csv_entities">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">json2csv_entities</span>(tweets_file, outfile, main_fields, entity_type, entity_fields, encoding='utf8', errors='replace', gzip_compress=False):
    <a class="functionSourceLink" href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py#L150">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">Extract selected fields from a file of line-separated JSON tweets and
write to a file in CSV format.

This utility function allows a file of full Tweets to be easily converted
to a CSV file for easier processing of Twitter entities. For example, the
hashtags or media elements of a tweet can be extracted.

It returns one line per entity of a Tweet, e.g. if a tweet has two hashtags
there will be two lines in the output file, one per hashtag

:param tweets_file: the file-like object containing full Tweets

:param str outfile: The path of the text file where results should be    written

:param list main_fields: The list of fields to be extracted from the main    object, usually the tweet. Useful examples: 'id_str' for the tweetID. See    &lt;https://dev.twitter.com/overview/api/tweets&gt; for a full list of fields.
e. g.: ['id_str'], ['id', 'text', 'favorite_count', 'retweet_count']
If `entity_type` is expressed with hierarchy, then it is the list of    fields of the object that corresponds to the key of the entity_type,    (e.g., for entity_type='user.urls', the fields in the main_fields list    belong to the user object; for entity_type='place.bounding_box', the    files in the main_field list belong to the place object of the tweet).

:param list entity_type: The name of the entity: 'hashtags', 'media',    'urls' and 'user_mentions' for the tweet object. For a user object,    this needs to be expressed with a hierarchy: `'user.urls'`. For the    bounding box of the Tweet location, use `'place.bounding_box'`.

:param list entity_fields: The list of fields to be extracted from the    entity. E.g. `['text']` (of the Tweet)

:param error: Behaviour for encoding errors, see    https://docs.python.org/3/library/codecs.html#codec-base-classes

:param gzip_compress: if `True`, ouput files are compressed with gzip</p></div>
  </div>
</div><div class="basefunction">
  
  <a name="nltk.twitter.common.get_header_field_list">
    
  </a>
  <a name="get_header_field_list">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_header_field_list</span>(main_fields, entity_type, entity_fields):
    <a class="functionSourceLink" href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py#L221">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction private">
  
  <a name="nltk.twitter.common._write_to_file">
    
  </a>
  <a name="_write_to_file">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_write_to_file</span>(object_fields, items, entity_fields, writer):
    <a class="functionSourceLink" href="https://github.com/tristanlatr/nltk/tree/cab27f08bc0f78151e7dd16ec110d324f8c05a72/nltk/twitter/common.py#L238">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div>

      </div>
      <address>
        <a href="index.html">API Documentation</a> for <a href="https://github.com/tristanlatr/nltk">Natural Language Toolkit</a>, generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a> 21.2.2 at 2021-06-22 02:47:44.
      </address>

    </div>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>