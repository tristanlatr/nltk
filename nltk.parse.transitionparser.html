<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>nltk.parse.transitionparser</title>
    <meta name="generator" content="pydoctor 21.2.2"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            <a href="https://github.com/tristanlatr/nltk" class="projecthome">Natural Language Toolkit</a> <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="nltk.html">nltk</a></code><wbr></wbr>.<code><a href="nltk.parse.html">parse</a></code><wbr></wbr>.<code><a href="nltk.parse.transitionparser.html">transitionparser</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/transitionparser.py" class="sourceLink">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p class="undocumented">Undocumented</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1120">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="nltk.parse.transitionparser.Configuration.html">Configuration</a></code></td>
    <td><span>Class for holding configuration which is the partial analysis of the input sentence. The transition based parser aims at finding set of operators that transfer the initial configuration to the terminal configuration.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="nltk.parse.transitionparser.Transition.html">Transition</a></code></td>
    <td><span>This class defines a set of transition which is applied to a configuration to get another configuration Note that for different parsing algorithm, the transition is different.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="nltk.parse.transitionparser.TransitionParser.html">TransitionParser</a></code></td>
    <td><span>Class for transition based parser. Implement 2 algorithms which are "arc-standard" and "arc-eager"</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#demo">demo</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="nltk.parse.transitionparser.demo">
    
  </a>
  <a name="demo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">demo</span>():
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/f83d0acf07ed0fd627306ec5ae73265b05025e51/nltk/parse/transitionparser.py#L650">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="pre">&gt;&gt;&gt; from nltk.parse import DependencyGraph, DependencyEvaluator
&gt;&gt;&gt; from nltk.parse.transitionparser import TransitionParser, Configuration, Transition
&gt;&gt;&gt; gold_sent = DependencyGraph("""
... Economic  JJ     2      ATT
... news  NN     3       SBJ
... has       VBD       0       ROOT
... little      JJ      5       ATT
... effect   NN     3       OBJ
... on     IN      5       ATT
... financial       JJ       8       ATT
... markets    NNS      6       PC
... .    .      3       PU
... """)

&gt;&gt;&gt; conf = Configuration(gold_sent)

###################### Check the Initial Feature ########################

&gt;&gt;&gt; print(', '.join(conf.extract_features()))
STK_0_POS_TOP, BUF_0_FORM_Economic, BUF_0_LEMMA_Economic, BUF_0_POS_JJ, BUF_1_FORM_news, BUF_1_POS_NN, BUF_2_POS_VBD, BUF_3_POS_JJ

###################### Check The Transition #######################
Check the Initialized Configuration
&gt;&gt;&gt; print(conf)
Stack : [0]  Buffer : [1, 2, 3, 4, 5, 6, 7, 8, 9]   Arcs : []

A. Do some transition checks for ARC-STANDARD

&gt;&gt;&gt; operation = Transition('arc-standard')
&gt;&gt;&gt; operation.shift(conf)
&gt;&gt;&gt; operation.left_arc(conf, "ATT")
&gt;&gt;&gt; operation.shift(conf)
&gt;&gt;&gt; operation.left_arc(conf,"SBJ")
&gt;&gt;&gt; operation.shift(conf)
&gt;&gt;&gt; operation.shift(conf)
&gt;&gt;&gt; operation.left_arc(conf, "ATT")
&gt;&gt;&gt; operation.shift(conf)
&gt;&gt;&gt; operation.shift(conf)
&gt;&gt;&gt; operation.shift(conf)
&gt;&gt;&gt; operation.left_arc(conf, "ATT")

Middle Configuration and Features Check
&gt;&gt;&gt; print(conf)
Stack : [0, 3, 5, 6]  Buffer : [8, 9]   Arcs : [(2, 'ATT', 1), (3, 'SBJ', 2), (5, 'ATT', 4), (8, 'ATT', 7)]

&gt;&gt;&gt; print(', '.join(conf.extract_features()))
STK_0_FORM_on, STK_0_LEMMA_on, STK_0_POS_IN, STK_1_POS_NN, BUF_0_FORM_markets, BUF_0_LEMMA_markets, BUF_0_POS_NNS, BUF_1_FORM_., BUF_1_POS_., BUF_0_LDEP_ATT

&gt;&gt;&gt; operation.right_arc(conf, "PC")
&gt;&gt;&gt; operation.right_arc(conf, "ATT")
&gt;&gt;&gt; operation.right_arc(conf, "OBJ")
&gt;&gt;&gt; operation.shift(conf)
&gt;&gt;&gt; operation.right_arc(conf, "PU")
&gt;&gt;&gt; operation.right_arc(conf, "ROOT")
&gt;&gt;&gt; operation.shift(conf)

Terminated Configuration Check
&gt;&gt;&gt; print(conf)
Stack : [0]  Buffer : []   Arcs : [(2, 'ATT', 1), (3, 'SBJ', 2), (5, 'ATT', 4), (8, 'ATT', 7), (6, 'PC', 8), (5, 'ATT', 6), (3, 'OBJ', 5), (3, 'PU', 9), (0, 'ROOT', 3)]


B. Do some transition checks for ARC-EAGER

&gt;&gt;&gt; conf = Configuration(gold_sent)
&gt;&gt;&gt; operation = Transition('arc-eager')
&gt;&gt;&gt; operation.shift(conf)
&gt;&gt;&gt; operation.left_arc(conf,'ATT')
&gt;&gt;&gt; operation.shift(conf)
&gt;&gt;&gt; operation.left_arc(conf,'SBJ')
&gt;&gt;&gt; operation.right_arc(conf,'ROOT')
&gt;&gt;&gt; operation.shift(conf)
&gt;&gt;&gt; operation.left_arc(conf,'ATT')
&gt;&gt;&gt; operation.right_arc(conf,'OBJ')
&gt;&gt;&gt; operation.right_arc(conf,'ATT')
&gt;&gt;&gt; operation.shift(conf)
&gt;&gt;&gt; operation.left_arc(conf,'ATT')
&gt;&gt;&gt; operation.right_arc(conf,'PC')
&gt;&gt;&gt; operation.reduce(conf)
&gt;&gt;&gt; operation.reduce(conf)
&gt;&gt;&gt; operation.reduce(conf)
&gt;&gt;&gt; operation.right_arc(conf,'PU')
&gt;&gt;&gt; print(conf)
Stack : [0, 3, 9]  Buffer : []   Arcs : [(2, 'ATT', 1), (3, 'SBJ', 2), (0, 'ROOT', 3), (5, 'ATT', 4), (3, 'OBJ', 5), (5, 'ATT', 6), (8, 'ATT', 7), (6, 'PC', 8), (3, 'PU', 9)]

###################### Check The Training Function #######################

A. Check the ARC-STANDARD training
&gt;&gt;&gt; import tempfile
&gt;&gt;&gt; import os
&gt;&gt;&gt; input_file = tempfile.NamedTemporaryFile(prefix='transition_parse.train', dir=tempfile.gettempdir(), delete=False)

&gt;&gt;&gt; parser_std = TransitionParser('arc-standard')
&gt;&gt;&gt; print(', '.join(parser_std._create_training_examples_arc_std([gold_sent], input_file)))
 Number of training examples : 1
 Number of valid (projective) examples : 1
SHIFT, LEFTARC:ATT, SHIFT, LEFTARC:SBJ, SHIFT, SHIFT, LEFTARC:ATT, SHIFT, SHIFT, SHIFT, LEFTARC:ATT, RIGHTARC:PC, RIGHTARC:ATT, RIGHTARC:OBJ, SHIFT, RIGHTARC:PU, RIGHTARC:ROOT, SHIFT

&gt;&gt;&gt; parser_std.train([gold_sent],'temp.arcstd.model', verbose=False)
 Number of training examples : 1
 Number of valid (projective) examples : 1
&gt;&gt;&gt; remove(input_file.name)

B. Check the ARC-EAGER training

&gt;&gt;&gt; input_file = tempfile.NamedTemporaryFile(prefix='transition_parse.train', dir=tempfile.gettempdir(),delete=False)
&gt;&gt;&gt; parser_eager = TransitionParser('arc-eager')
&gt;&gt;&gt; print(', '.join(parser_eager._create_training_examples_arc_eager([gold_sent], input_file)))
 Number of training examples : 1
 Number of valid (projective) examples : 1
SHIFT, LEFTARC:ATT, SHIFT, LEFTARC:SBJ, RIGHTARC:ROOT, SHIFT, LEFTARC:ATT, RIGHTARC:OBJ, RIGHTARC:ATT, SHIFT, LEFTARC:ATT, RIGHTARC:PC, REDUCE, REDUCE, REDUCE, RIGHTARC:PU

&gt;&gt;&gt; parser_eager.train([gold_sent],'temp.arceager.model', verbose=False)
 Number of training examples : 1
 Number of valid (projective) examples : 1

&gt;&gt;&gt; remove(input_file.name)

###################### Check The Parsing Function ########################

A. Check the ARC-STANDARD parser

&gt;&gt;&gt; result = parser_std.parse([gold_sent], 'temp.arcstd.model')
&gt;&gt;&gt; de = DependencyEvaluator(result, [gold_sent])
&gt;&gt;&gt; de.eval() &gt;= (0, 0)
True

B. Check the ARC-EAGER parser
&gt;&gt;&gt; result = parser_eager.parse([gold_sent], 'temp.arceager.model')
&gt;&gt;&gt; de = DependencyEvaluator(result, [gold_sent])
&gt;&gt;&gt; de.eval() &gt;= (0, 0)
True

Remove test temporary files
&gt;&gt;&gt; remove('temp.arceager.model')
&gt;&gt;&gt; remove('temp.arcstd.model')

Note that result is very poor because of only one training example.</p></div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://github.com/tristanlatr/nltk" class="projecthome">Natural Language Toolkit</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.2.2 at 2021-06-22 02:51:08.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>