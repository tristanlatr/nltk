<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>nltk.parse.transitionparser</title>
    <meta name="generator" content="pydoctor 21.2.2"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=0.75" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default">
  
  <div class="container">

    <div class="navbar-header">
      
      <div class="navlinks">
          <span class="navbar-brand">
            <a href="https://github.com/tristanlatr/nltk" class="projecthome">Natural Language Toolkit</a> <a href="index.html">API Documentation</a>
          </span>

          <a href="moduleIndex.html">
            Modules
          </a>

          <a href="classIndex.html">
            Classes
          </a>

          <a href="nameIndex.html">
            Names
          </a>
      </div>

    </div>
  </div>
</nav>

    

    <div class="container">

      <div class="page-header">
        <h1 class="module"><code><code><a href="nltk.html">nltk</a></code><wbr></wbr>.<code><a href="nltk.parse.html">parse</a></code><wbr></wbr>.<code><a href="nltk.parse.transitionparser.html">transitionparser</a></code></code></h1>
        <div id="showPrivate">
          <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
        </div>
      </div>

      <div class="categoryHeader">
        module documentation
      </div>

      <div class="extrasDocstring">
        <a href="https://github.com/tristanlatr/nltk/tree/03a34b1932460e632ce9048adc0ccabbc7c0558c/nltk/parse/transitionparser.py" class="sourceLink">(source)</a>
        <p></p>
      </div>

      <div class="moduleDocstring">
        <div><p class="undocumented">Undocumented</p></div>
      </div>

      <div id="splitTables">
        <table class="children sortable" id="id1124">
  
  
  <tr class="class">
    
    <td>Class</td>
    <td><code><a href="nltk.parse.transitionparser.Configuration.html">Configuration</a></code></td>
    <td><span>Class for holding configuration which is the partial analysis of the input sentence. The transition based parser aims at finding set of operators that transfer the initial configuration to the terminal configuration.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="nltk.parse.transitionparser.Transition.html">Transition</a></code></td>
    <td><span>This class defines a set of transition which is applied to a configuration to get another configuration Note that for different parsing algorithm, the transition is different.</span></td>
  </tr><tr class="class">
    
    <td>Class</td>
    <td><code><a href="nltk.parse.transitionparser.TransitionParser.html">TransitionParser</a></code></td>
    <td><span>Class for transition based parser. Implement 2 algorithms which are "arc-standard" and "arc-eager"</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#demo">demo</a></code></td>
    <td><span class="undocumented">No summary</span></td>
  </tr>
</table>
        

          
      </div>

      <div id="childList">

        <div class="basefunction">
  
  
  <a name="nltk.parse.transitionparser.demo">
    
  </a>
  <a name="demo">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">demo</span>():
    <a class="sourceLink" href="https://github.com/tristanlatr/nltk/tree/03a34b1932460e632ce9048adc0ccabbc7c0558c/nltk/parse/transitionparser.py#L650">
      
      (source)
    </a>
  </div>
  <div class="docstring functionBody">
    
    
    <div><pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">from</span> nltk.parse <span class="py-keyword">import</span> DependencyGraph, DependencyEvaluator
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">from</span> nltk.parse.transitionparser <span class="py-keyword">import</span> TransitionParser, Configuration, Transition
<span class="py-prompt">&gt;&gt;&gt; </span>gold_sent = DependencyGraph(<span class="py-string">"""</span>
<span class="py-more">... </span><span class="py-string">Economic  JJ     2      ATT</span>
<span class="py-more">... </span><span class="py-string">news  NN     3       SBJ</span>
<span class="py-more">... </span><span class="py-string">has       VBD       0       ROOT</span>
<span class="py-more">... </span><span class="py-string">little      JJ      5       ATT</span>
<span class="py-more">... </span><span class="py-string">effect   NN     3       OBJ</span>
<span class="py-more">... </span><span class="py-string">on     IN      5       ATT</span>
<span class="py-more">... </span><span class="py-string">financial       JJ       8       ATT</span>
<span class="py-more">... </span><span class="py-string">markets    NNS      6       PC</span>
<span class="py-more">... </span><span class="py-string">.    .      3       PU</span>
<span class="py-more">... </span><span class="py-string">"""</span>)</pre><pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>conf = Configuration(gold_sent)</pre><p>###################### Check the Initial Feature ########################</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-builtin">print</span>(<span class="py-string">', '</span>.join(conf.extract_features()))
<span class="py-output">STK_0_POS_TOP, BUF_0_FORM_Economic, BUF_0_LEMMA_Economic, BUF_0_POS_JJ, BUF_1_FORM_news, BUF_1_POS_NN, BUF_2_POS_VBD, BUF_3_POS_JJ</span>
</pre><p>###################### Check The Transition #######################
Check the Initialized Configuration
&gt;&gt;&gt; print(conf)
Stack : [0]  Buffer : [1, 2, 3, 4, 5, 6, 7, 8, 9]   Arcs : []</p>
<ol class="rst-upperalpha simple">
<li>Do some transition checks for ARC-STANDARD</li>
</ol>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>operation = Transition(<span class="py-string">'arc-standard'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.left_arc(conf, <span class="py-string">"ATT"</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.left_arc(conf,<span class="py-string">"SBJ"</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.left_arc(conf, <span class="py-string">"ATT"</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.left_arc(conf, <span class="py-string">"ATT"</span>)</pre><p>Middle Configuration and Features Check
&gt;&gt;&gt; print(conf)
Stack : [0, 3, 5, 6]  Buffer : [8, 9]   Arcs : [(2, 'ATT', 1), (3, 'SBJ', 2), (5, 'ATT', 4), (8, 'ATT', 7)]</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-builtin">print</span>(<span class="py-string">', '</span>.join(conf.extract_features()))
<span class="py-output">STK_0_FORM_on, STK_0_LEMMA_on, STK_0_POS_IN, STK_1_POS_NN, BUF_0_FORM_markets, BUF_0_LEMMA_markets, BUF_0_POS_NNS, BUF_1_FORM_., BUF_1_POS_., BUF_0_LDEP_ATT</span>
</pre><pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>operation.right_arc(conf, <span class="py-string">"PC"</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.right_arc(conf, <span class="py-string">"ATT"</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.right_arc(conf, <span class="py-string">"OBJ"</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.right_arc(conf, <span class="py-string">"PU"</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.right_arc(conf, <span class="py-string">"ROOT"</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)</pre><p>Terminated Configuration Check
&gt;&gt;&gt; print(conf)
Stack : [0]  Buffer : []   Arcs : [(2, 'ATT', 1), (3, 'SBJ', 2), (5, 'ATT', 4), (8, 'ATT', 7), (6, 'PC', 8), (5, 'ATT', 6), (3, 'OBJ', 5), (3, 'PU', 9), (0, 'ROOT', 3)]</p>
<ol class="rst-upperalpha simple" start="2">
<li>Do some transition checks for ARC-EAGER</li>
</ol>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>conf = Configuration(gold_sent)
<span class="py-prompt">&gt;&gt;&gt; </span>operation = Transition(<span class="py-string">'arc-eager'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.left_arc(conf,<span class="py-string">'ATT'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.left_arc(conf,<span class="py-string">'SBJ'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.right_arc(conf,<span class="py-string">'ROOT'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.left_arc(conf,<span class="py-string">'ATT'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.right_arc(conf,<span class="py-string">'OBJ'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.right_arc(conf,<span class="py-string">'ATT'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.shift(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.left_arc(conf,<span class="py-string">'ATT'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.right_arc(conf,<span class="py-string">'PC'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.reduce(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.reduce(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.reduce(conf)
<span class="py-prompt">&gt;&gt;&gt; </span>operation.right_arc(conf,<span class="py-string">'PU'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-builtin">print</span>(conf)
<span class="py-output">Stack : [0, 3, 9]  Buffer : []   Arcs : [(2, 'ATT', 1), (3, 'SBJ', 2), (0, 'ROOT', 3), (5, 'ATT', 4), (3, 'OBJ', 5), (5, 'ATT', 6), (8, 'ATT', 7), (6, 'PC', 8), (3, 'PU', 9)]</span>
</pre><p>###################### Check The Training Function #######################</p>
<p>A. Check the ARC-STANDARD training
&gt;&gt;&gt; import tempfile
&gt;&gt;&gt; import os
&gt;&gt;&gt; input_file = tempfile.NamedTemporaryFile(prefix='transition_parse.train', dir=tempfile.gettempdir(), delete=False)</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>parser_std = TransitionParser(<span class="py-string">'arc-standard'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-builtin">print</span>(<span class="py-string">', '</span>.join(parser_std._create_training_examples_arc_std([gold_sent], input_file)))
<span class="py-output"> Number of training examples : 1</span>
<span class="py-output"> Number of valid (projective) examples : 1</span>
<span class="py-output">SHIFT, LEFTARC:ATT, SHIFT, LEFTARC:SBJ, SHIFT, SHIFT, LEFTARC:ATT, SHIFT, SHIFT, SHIFT, LEFTARC:ATT, RIGHTARC:PC, RIGHTARC:ATT, RIGHTARC:OBJ, SHIFT, RIGHTARC:PU, RIGHTARC:ROOT, SHIFT</span>
</pre><pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>parser_std.train([gold_sent],<span class="py-string">'temp.arcstd.model'</span>, verbose=<span class="py-builtin">False</span>)
<span class="py-output"> Number of training examples : 1</span>
<span class="py-output"> Number of valid (projective) examples : 1</span>
<span class="py-prompt">&gt;&gt;&gt; </span>remove(input_file.name)</pre><ol class="rst-upperalpha simple" start="2">
<li>Check the ARC-EAGER training</li>
</ol>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>input_file = tempfile.NamedTemporaryFile(prefix=<span class="py-string">'transition_parse.train'</span>, <span class="py-builtin">dir</span>=tempfile.gettempdir(),delete=<span class="py-builtin">False</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>parser_eager = TransitionParser(<span class="py-string">'arc-eager'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-builtin">print</span>(<span class="py-string">', '</span>.join(parser_eager._create_training_examples_arc_eager([gold_sent], input_file)))
<span class="py-output"> Number of training examples : 1</span>
<span class="py-output"> Number of valid (projective) examples : 1</span>
<span class="py-output">SHIFT, LEFTARC:ATT, SHIFT, LEFTARC:SBJ, RIGHTARC:ROOT, SHIFT, LEFTARC:ATT, RIGHTARC:OBJ, RIGHTARC:ATT, SHIFT, LEFTARC:ATT, RIGHTARC:PC, REDUCE, REDUCE, REDUCE, RIGHTARC:PU</span>
</pre><pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>parser_eager.train([gold_sent],<span class="py-string">'temp.arceager.model'</span>, verbose=<span class="py-builtin">False</span>)
<span class="py-output"> Number of training examples : 1</span>
<span class="py-output"> Number of valid (projective) examples : 1</span>
</pre><pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>remove(input_file.name)</pre><p>###################### Check The Parsing Function ########################</p>
<ol class="rst-upperalpha simple">
<li>Check the ARC-STANDARD parser</li>
</ol>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>result = parser_std.parse([gold_sent], <span class="py-string">'temp.arcstd.model'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>de = DependencyEvaluator(result, [gold_sent])
<span class="py-prompt">&gt;&gt;&gt; </span>de.eval() &gt;= (0, 0)
<span class="py-output">True</span>
</pre><p>B. Check the ARC-EAGER parser
&gt;&gt;&gt; result = parser_eager.parse([gold_sent], 'temp.arceager.model')
&gt;&gt;&gt; de = DependencyEvaluator(result, [gold_sent])
&gt;&gt;&gt; de.eval() &gt;= (0, 0)
True</p>
<p>Remove test temporary files
&gt;&gt;&gt; remove('temp.arceager.model')
&gt;&gt;&gt; remove('temp.arcstd.model')</p>
<p>Note that result is very poor because of only one training example.</p>
</div>
  </div>
</div>

      </div>
    </div>

    <footer class="navbar navbar-default">
  
  <div class="container">
    <a href="index.html">API Documentation</a> for <a href="https://github.com/tristanlatr/nltk" class="projecthome">Natural Language Toolkit</a>,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    21.2.2 at 2021-06-22 02:56:13.
  </div>
</footer>

    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>